{"version":3,"sources":["components/classes/TeacherDashboard.tsx"],"names":["TeacherHome","_useState","useState","_useState2","Object","_mnt_c_Users_ashis_Financial_App_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","create","setCreate","_useState3","_useState4","newClassName","setNewClassName","_useState5","_useState6","myClasses","setMyClasses","updateClassList","api","getMyClasses","then","res","success","classes","window","alert","catch","err","useEffect","createClass","e","preventDefault","createNewClass","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","style","width","margin","minHeight","maxHeight","overflow","Fragment","map","classInfo","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","to","concat","_id","color","id","key","name","toUpperCase","Date","date","toLocaleString","num_student","authCode","height","onClick","_shared_components_Modal__WEBPACK_IMPORTED_MODULE_2__","header","body","action","type","value","placeholder","onChange","target","actions","padding","close","TeacherDashboard","path","useRouteMatch","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","exact","component","_index__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","file":"static/js/16.20a11c94.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CustomModal, Modal } from '../shared-components/Modal';\nimport { Switch, useRouteMatch, Route, Link } from 'react-router-dom';\nimport { ClassDetails, ClassStats } from '../index';\nimport api from '../../api';\n\nconst TeacherDashboard = () => {\n  let { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route exact path={path} component={TeacherHome}></Route>\n      <Route path={`${path}/stats/:authCode`}>\n        <ClassStats />\n      </Route>\n      <Route path={`${path}/:classId`}>\n        <ClassDetails />\n      </Route>\n    </Switch>\n  );\n};\n\nconst TeacherHome = () => {\n  const [create, setCreate] = useState(false);\n  const [newClassName, setNewClassName] = useState('');\n  const [myClasses, setMyClasses] = useState(null);\n\n  const updateClassList = () => {\n    api\n      .getMyClasses()\n      .then((res) => {\n        if (res.success) {\n          setMyClasses(res.classes);\n        } else {\n          window.alert(\n            'Something went wrong \\nPlease refresh the page and try again!'\n          );\n        }\n      })\n      .catch((err) => {\n        window.alert(\n          'Something went wrong \\nPlease refresh the page and try again!'\n        );\n      });\n\n    setCreate(false);\n  };\n\n  useEffect(() => {\n    updateClassList();\n  }, []);\n\n  const createClass = (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    api\n      .createNewClass(newClassName)\n      .then((res) => {\n        if (res.success) {\n          window.alert('Class Created Successfully!!');\n          updateClassList();\n        } else {\n          window.alert(\n            'Something went wrong \\nPlease refresh the page and try again!'\n          );\n        }\n      })\n      .catch((err) => {\n        window.alert(\n          'Something went wrong \\nPlease refresh the page and try again!'\n        );\n      });\n  };\n\n  const ModalBody = () => {\n    return (\n      <>\n        <form action=\"\">\n          <div className=\"ui input\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={newClassName}\n              placeholder=\"Name of Class\"\n              onChange={(e) => setNewClassName(e.target.value)}\n            />\n          </div>\n        </form>\n      </>\n    );\n  };\n\n  const ModalActions = () => {\n    return (\n      <>\n        <div\n          className=\"yellow-button\"\n          style={{ padding: '1.5%', margin: 'auto' }}\n          onClick={createClass}\n        >\n          Submit\n        </div>\n      </>\n    );\n  };\n\n  const classCardGenerator = () => {\n    return myClasses.map((classInfo: any) => {\n      return (\n        <Link\n          to={`/classes/${classInfo._id}`}\n          style={{ color: 'black' }}\n          className=\"class-card\"\n          id={classInfo._id}\n          key={classInfo._id}\n        >\n          <div className=\"class-name bold-font bold\">\n            {classInfo.name.toUpperCase()}\n          </div>\n          <div className=\"creation-date meta-txt\">\n            Created on: {new Date(classInfo.date).toLocaleString()}\n          </div>\n          <div className=\"student-no\">\n            No of students: {classInfo.num_student}\n          </div>\n          <div className=\"auth-code\">\n            <div>Auth Code</div>\n            <div className=\"ta-center txt-grey\">{classInfo.authCode}</div>\n          </div>\n        </Link>\n      );\n    });\n  };\n\n  return (\n    <div\n      className=\"generic-card\"\n      style={{\n        width: '50vw',\n        margin: 'auto',\n        minHeight: '80vh',\n        maxHeight: '90vh',\n        overflow: 'auto',\n      }}\n    >\n      <div className=\"ta-center general-heading\">Your Classes</div>\n      <hr />\n      {myClasses ? (\n        <>{classCardGenerator()}</>\n      ) : (\n        <div style={{ height: '5vh' }}></div>\n      )}\n      <div\n        className=\"yellow-button center-margin \"\n        onClick={() => setCreate(true)}\n      >\n        Create New Class\n      </div>\n      {create ? (\n        <CustomModal\n          header={'Create New Class'}\n          body={ModalBody}\n          actions={ModalActions}\n          close={() => setCreate(false)}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default TeacherDashboard;\n"],"sourceRoot":""}